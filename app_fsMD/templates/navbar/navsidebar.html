{% load static %}

<style>
  #fsmdSideRail{
    position: fixed;
    left: 1rem;
    top: 50%;
    transform: translateY(-50%);
    z-index: 1040;
    width: 56px;
    border-radius: var(--radius-pill);
    background: var(--primary-bg);
    border: 1px solid var(--secondary-border);
    box-shadow: var(--shadow-elevated);
    padding: .5rem .35rem;
    display: none;
    gap: .5rem;
    flex-direction: column;
    align-items: center;
  }
  @media (min-width:992px){
    #fsmdSideRail{display:flex}
  }
  #fsmdSideRail .icon-button{
    background:var(--primary-bg);
    border-color:var(--secondary-border)
  }
  #fsmdSideRail .icon-button:hover,
  #fsmdSideRail .icon-button:focus-visible{
    border-color:rgba(var(--primary-accent-rgb),.55);
    box-shadow:var(--shadow-elevated)
  }
  #fsmdSidebarPanel.offcanvas-fsmd{
    --bs-offcanvas-bg:var(--primary-bg);
    --bs-offcanvas-color:var(--primary-text);
    border-right:1px solid var(--secondary-border);
    box-shadow:var(--shadow-elevated)
  }
  #fsmdSidebarPanel .offcanvas-header{
    padding:1rem 1.25rem;
    border-bottom:1px solid var(--secondary-border)
  }
  #fsmdSidebarPanel .offcanvas-title{
    font-family:var(--font-family-base);
    font-weight:700;
    letter-spacing:.02em
  }
  #fsmdSidebarPanel .btn-close{opacity:.75}
  #fsmdSidebarPanel .btn-close:hover{opacity:1}
  #fsmdSidebarPanel .offcanvas-body{
    padding:1.5rem 1.5rem 1.75rem;
    background:var(--primary-bg);
    scrollbar-width:thin;
    scrollbar-color:rgba(var(--primary-accent-rgb),.65) transparent
  }
  #fsmdSidebarPanel .offcanvas-body a{
    color:var(--primary-text);
    text-decoration:none;
    border-radius:var(--radius-md);
    transition:background-color var(--transition-fast),
               color var(--transition-fast),
               transform var(--transition-fast)
  }
  #fsmdSidebarPanel .offcanvas-body a:hover{
    color:var(--primary-accent);
  }
  #fsmdSidebarPanel .offcanvas-body a:focus-visible{
    outline:0;
    box-shadow:var(--focus-ring)
  }
  #fsmdSidebarPanel .icon-gradient{
    background:linear-gradient(-150deg,var(--tertiary-accent),var(--primary-accent));
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    font-weight:600
  }
  #fsmdSidebarPanel .badge.bg-accent-gradient-animated{
    color:var(--tertiary-text)
  }
  #fsmdSidebarPanel .offcanvas-body::-webkit-scrollbar{width:6px}
  #fsmdSidebarPanel .offcanvas-body::-webkit-scrollbar-track{background:transparent}
  #fsmdSidebarPanel .offcanvas-body::-webkit-scrollbar-thumb{
    background:linear-gradient(180deg,var(--tertiary-accent),var(--primary-accent));
    border-radius:var(--radius-pill)
  }
  #fsmdSidebarPanel .offcanvas-body::-webkit-scrollbar-thumb:hover{
    background:linear-gradient(180deg,var(--primary-accent),var(--secondary-accent))
  }
  #fsmdSidebarPanel .newsletter-input{
    border:0!important;
    border-bottom:2px solid var(--primary-accent)!important;
    border-radius:0!important;
    background:transparent!important;
    box-shadow:none!important;
    padding-left:0!important;
    padding-right:2.5rem!important;
  }
  #fsmdSidebarPanel .newsletter-input::placeholder{
    color:var(--secondary-text);
  }
  #fsmdSidebarPanel .newsletter-input:focus{
    border:0!important;
    border-bottom:2px solid var(--primary-accent)!important;
    outline:0!important;
    box-shadow:none!important;
    background:transparent!important;
  }
  #fsmdSidebarPanel .newsletter-submit i{
    color:var(--primary-accent);
  }
</style>

<div id="fsmdSideRail"
     class="fade-in fade-in-left delay-2 fade-blocked"
     aria-label="Quick sidebar">
  <button class="icon-button shadow-brand fade-in fade-in-left delay-2 fade-blocked"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#fsmdSidebarPanel"
          aria-controls="fsmdSidebarPanel"
          aria-label="Open sidebar">
    <i class="fa-solid fa-bars-staggered"></i>
  </button>

  <a class="icon-button fade-in fade-in-left delay-3 fade-blocked"
     href="{{ facebook_url|default:'#' }}"
     target="_blank" rel="noopener"
     aria-label="Facebook">
    <i class="fa-brands fa-facebook"></i>
  </a>

  <a class="icon-button fade-in fade-in-left delay-4 fade-blocked"
     href="{{ instagram_url|default:'#' }}"
     target="_blank" rel="noopener"
     aria-label="Instagram">
    <i class="fa-brands fa-instagram"></i>
  </a>

  <a class="icon-button fade-in fade-in-left delay-5 fade-blocked"
     href="{{ tiktok_url|default:'#' }}"
     target="_blank" rel="noopener"
     aria-label="TikTok">
    <i class="fa-brands fa-tiktok"></i>
  </a>
</div>

<div class="position-fixed d-lg-none fade-in fade-in-up delay-2 fade-blocked"
     style="left: 1rem; bottom: 1rem; z-index: 1040;">
  <button class="icon-button shadow-brand"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#fsmdSidebarPanel"
          aria-controls="fsmdSidebarPanel"
          aria-label="Open sidebar">
    <i class="fa-solid fa-bars-staggered"></i>
  </button>
</div>

<aside class="offcanvas offcanvas-start offcanvas-fsmd"
       tabindex="-1"
       id="fsmdSidebarPanel"
       aria-labelledby="fsmdSidebarPanelLabel"
       style="--bs-offcanvas-width: 400px;">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title d-flex align-items-center brand-title fade-in fade-in-down delay-1 fade-blocked"
        id="fsmdSidebarPanelLabel">
      <img src="{% static 'images/favicon.ico' %}" alt="Full Scope MD logo" class="logo-icon-sm me-2">
      <span class="text-primary-accent">Full</span>
      <span class="text-secondary-accent">Scope</span>
      <span class="text-tertiary-accent">MD</span>
    </h5>

    <button type="button"
            class="btn-close fade-in fade-in-down delay-2 fade-blocked"
            data-bs-dismiss="offcanvas"
            aria-label="Close"></button>
  </div>

  <div class="offcanvas-body d-flex flex-column gap-4">

    <div class="fade-in fade-in-up delay-1 fade-blocked">
      {% comment %} <h6 class="mb-2 d-flex align-items-center">
        <i class="fa-solid fa-shield-heart me-2 icon-gradient"></i>
        Clinician-led Telemedicine
      </h6> {% endcomment %}
      <p class="mb-0 text-body-sm">
        FullScopeMD is a modern, clinician led telemedicine platform providing accessible care across
        weight management, hair loss, peptide therapy, wellness, and primary care support. Care is
        delivered safely, securely, and conveniently online.
      </p>
    </div>

    <div class="fade-in fade-in-up delay-2 fade-blocked">
      <h6 class="mb-3">Contact Us</h6>

      <ul class="list-unstyled mb-0">
        <li class="d-flex align-items-start gap-2 mb-2">
          <span class="mt-1">
            <i class="fa-solid fa-check text-primary-accent"></i>
          </span>
          <div class="small">
            <a href="mailto:{{ contact_email|default:'support@fullscopemd.com' }}"
               class="d-inline-flex align-items-center gap-1">
              <i class="fa-regular fa-envelope icon-sm"></i>
              <span>{{ contact_email|default:"support@fullscopemd.com" }}</span>
            </a>
          </div>
        </li>

        <li class="d-flex align-items-start gap-2">
          <span class="mt-1">
            <i class="fa-solid fa-check text-primary-accent"></i>
          </span>
          <div class="small">
            <a href="tel:{{ contact_phone|default:'+13072187845' }}"
               class="d-inline-flex align-items-center gap-1">
              <i class="fa-solid fa-phone icon-sm"></i>
              <span>{{ contact_phone_display|default:"+1 (307) 218-7845" }}</span>
            </a>
          </div>
        </li>
      </ul>
    </div>

    <div class="fade-in fade-in-up delay-3 fade-blocked">
      <h6 class="mb-3">Newsletter</h6>

      <form method="post"
            action="{{ ghl_newsletter_action|default:'#' }}"
            class="mb-2">
        {% csrf_token %}

        <div class="position-relative">
          <input id="sidebarNewsletterEmail"
                 name="email"
                 type="email"
                 class="form-control newsletter-input"
                 placeholder="Your Email Address"
                 autocomplete="email"
                 required>

          <button type="submit"
                  class="btn newsletter-submit border-0 bg-transparent p-0 position-absolute end-0 top-50 translate-middle-y">
            <i class="fa-solid fa-paper-plane"></i>
          </button>
        </div>
      </form>

      <div class="form-text small">
        We’ll only send clinically relevant updates and service announcements.
      </div>
    </div>

    <div class="mt-auto pt-2 fade-in fade-in-up delay-4 fade-blocked">
      <h6 class="mb-3">Follow Us</h6>

      <div class="d-flex align-items-center gap-2 mb-3">
        <a class="icon-button rounded-circle fade-in fade-in-up delay-2 fade-blocked"
           href="{{ facebook_url|default:'#' }}"
           target="_blank" rel="noopener"
           aria-label="Facebook">
          <i class="fa-brands fa-facebook"></i>
        </a>
        <a class="icon-button rounded-circle fade-in fade-in-up delay-3 fade-blocked"
           href="{{ instagram_url|default:'#' }}"
           target="_blank" rel="noopener"
           aria-label="Instagram">
          <i class="fa-brands fa-instagram"></i>
        </a>
        <a class="icon-button rounded-circle fade-in fade-in-up delay-4 fade-blocked"
           href="{{ tiktok_url|default:'#' }}"
           target="_blank" rel="noopener"
           aria-label="TikTok">
          <i class="fa-brands fa-tiktok"></i>
        </a>
      </div>

      <small class="d-block text-caption-sm fade-in fade-in-up delay-5 fade-blocked text-center">
        © {% now "Y" %} FullScopeMD. All rights reserved.
      </small>
    </div>

  </div>
</aside>
