{% load static %}

<nav id="siteNavbar"
     class="navbar navbar-expand-xl navbar-fsmd transparent sticky-top fade-in-down fade-in delay-1 fade-blocked">
  <div class="container align-items-center">

    <a class="navbar-brand d-flex align-items-center p-2" href="{% url 'home' %}">
      <img src="{% static 'images/favicon.ico' %}" alt="Full Scope MD logo" class="logo-icon me-2">
      <span class="navbar-brand-title brand-title">
        <span class="text-primary-accent">Full<span class="text-secondary-accent">Scope</span><span class="text-tertiary-accent">MD</span></span>
      </span>
    </a>

    <div class="d-flex align-items-center ms-auto gap-2 d-xl-none navbar-mobile-actions">
      <a class="icon-button d-none d-md-inline-flex me-1" href="{% url 'contact' %}" aria-label="Contact Us">
        <i class="fa-solid fa-phone"></i>
      </a>

      <button class="icon-button icon-button--gradient-border cart-btn d-none d-md-inline-flex"
              type="button"
              aria-label="Cart"
              data-bs-toggle="offcanvas"
              data-bs-target="#cartOffcanvas">
        <i class="fa-solid fa-cart-shopping"></i>
        <span class="cart-badge badge rounded-pill bg-accent-gradient-animated is-hidden"
              aria-live="polite"
              aria-atomic="true">0</span>
      </button>

      <button class="navbar-toggler icon-button"
              type="button"
              data-bs-toggle="offcanvas"
              data-bs-target="#fsmdNav"
              aria-controls="fsmdNav"
              aria-label="Toggle navigation">
        <i class="fa-solid fa-bars"></i>
      </button>
    </div>

    <div class="collapse navbar-collapse d-none d-xl-flex" id="mainNavbar">
      <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'home' %}">Home</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="{% url 'about' %}">About Us</a>
        </li>

        <li class="nav-item dropdown">
          {% with active_slug=category.slug|default:'' %}
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Services
            </a>
            <ul class="dropdown-menu">
              {% for c in nav_programs %}
                <li>
                  <a class="dropdown-item {% if active_slug == c.slug %}active{% endif %}"
                     href="{% url 'prgrm_dtls' c.slug %}">
                    {{ c.name }}
                  </a>
                </li>
              {% endfor %}
            </ul>
          {% endwith %}
        </li>

        <li class="nav-item">
          <a class="nav-link" href="{% url 'faqs' %}">FAQs</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="{% url 'blgs_updts' %}">Blog</a>
        </li>
      </ul>

      <div class="d-flex align-items-center gap-2">
        <a href="tel:+13072187845"
           class="nav-link d-none d-xxl-inline-flex align-items-center me-2 px-0 text-nowrap">
          <span class="fw-semibold small">+1 (307) 218-7845</span>
        </a>

        <a class="icon-button me-1" href="{% url 'contact' %}" aria-label="Contact Us">
          <i class="fa-solid fa-phone"></i>
        </a>

        <button class="icon-button icon-button--gradient-border cart-btn me-2"
                type="button"
                aria-label="Cart"
                data-bs-toggle="offcanvas"
                data-bs-target="#cartOffcanvas">
          <i class="fa-solid fa-cart-shopping"></i>
          <span class="cart-badge badge rounded-pill bg-accent-gradient-animated is-hidden"
                aria-live="polite"
                aria-atomic="true">0</span>
        </button>

        <a href="#" class="btn btn-primary px-3 px-xl-4 text-nowrap">Appointment</a>
      </div>
    </div>

  </div>
</nav>

<div class="offcanvas offcanvas-end offcanvas-fsmd"
     tabindex="-1"
     id="fsmdNav"
     aria-labelledby="fsmdNavLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title d-flex align-items-center brand-title"
        id="fsmdNavLabel">
      <img src="{% static 'images/favicon.ico' %}"
           alt="Full Scope MD logo"
           class="logo-icon-sm me-2">
      <span class="text-primary-accent">Full</span>
      <span class="text-secondary-accent">Scope</span>
      <span class="text-tertiary-accent">MD</span>
    </h5>
    <button type="button"
            class="btn-close"
            data-bs-dismiss="offcanvas"
            aria-label="Close"></button>
  </div>

  <div class="offcanvas-body d-flex flex-column justify-content-between">
    <div class="accordion" id="mobileNavAccordion">

      <div class="accordion-item border-0">
        <a class="nav-link px-2 py-2" href="{% url 'home' %}">Home</a>
      </div>

      <div class="accordion-item border-0">
        <a class="nav-link px-2 py-2" href="{% url 'about' %}">About Us</a>
      </div>

      <div class="accordion-item border-0">
        {% with active_slug=category.slug|default:'' %}
          <button class="accordion-button collapsed px-2 py-2"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#collapsePrograms"
                  aria-expanded="false">
            Services
          </button>
          <div id="collapsePrograms"
               class="accordion-collapse collapse"
               data-bs-parent="#mobileNavAccordion">
            <ul class="list-unstyled ps-3">
              {% for c in nav_programs %}
                <li>
                  <a class="nav-link py-1 {% if active_slug == c.slug %}active{% endif %}"
                     href="{% url 'prgrm_dtls' c.slug %}">
                    {{ c.name }}
                  </a>
                </li>
              {% endfor %}
            </ul>
          </div>
        {% endwith %}
      </div>

      <div class="accordion-item border-0">
        <a class="nav-link px-2 py-2" href="{% url 'faqs' %}">FAQs</a>
      </div>

      <div class="accordion-item border-0">
        <a class="nav-link px-2 py-2" href="{% url 'blgs_updts' %}">Blog</a>
      </div>

      <div class="accordion-item border-0">
        <a class="nav-link px-2 py-2" href="{% url 'contact' %}">Contact Us</a>
      </div>

    </div>

    <div class="mt-3">
      <a href="tel:+13072187845"
         class="d-flex justify-content-center mb-2 text-decoration-none">
        <span class="fw-semibold small">+1 (307) 218-7845</span>
      </a>

      <div class="d-flex justify-content-center gap-2 mb-3">
        <a class="icon-button me-2"
           href="tel:+13072187845"
           aria-label="Call us">
          <i class="fa-solid fa-phone"></i>
        </a>

        <button class="icon-button icon-button--gradient-border cart-btn me-2"
                type="button"
                aria-label="Cart"
                data-bs-toggle="offcanvas"
                data-bs-target="#cartOffcanvas">
          <i class="fa-solid fa-cart-shopping"></i>
          <span class="cart-badge badge rounded-pill bg-accent-gradient-animated is-hidden"
                aria-live="polite"
                aria-atomic="true">0</span>
        </button>
      </div>

      <a href="#" class="btn btn-primary w-100">Appointment</a>
    </div>
  </div>
</div>
